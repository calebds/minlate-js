/*!
 * Minlate JS - v2.0 - 12/4/2012
 *
 * Copyright (c) 2012 "Paislee" Caleb Sotelo
 * Dual licensed under the MIT and GPL licenses.
 * http://dev.paislee.net/about/license/
 */
var minlate=function(b){var a=".minlate{display:none !important;}",d=b.createElement("style"),e="className",f={},c=function(y,h,j,u,n,z,v){var w="",k=0,x,m=0,q=0,t=0,o="",l="",h=h||{},p,r=1;for(var s=0;s<y.length;s++){l=y.charAt(s);switch(l){case j:k&&g("",s,l);k=1;break;case u:!k&&g("",s,l);p=h[w]||"";if(p instanceof Array){p=p[m];if(q&&(m>=h[w].length-1)){t=1}r=0}else{r=1}o+=p||"";k=0;w="";break;case n:q&&g("",s,l);q=1;x=s;break;case z:!q&&g("",s,l);if(r){t=1}if(!t){s=x-1;m++}else{t=m=0}q=0;break;case v:l=y.charAt(++s);default:if(k){w+=l}else{o+=l}}}if(q||k){g()}return o},g=function(j,h,i){var k="";if(typeof h!="undefined"){k+=" at index "+h}if(typeof i!="undefined"){k+=": '"+i+"'"}throw new Error((j||"Invalid template")+k+".")};d.type="text/css";if(d.styleSheet){d.styleSheet.cssText=a}else{d.appendChild(b.createTextNode(a))}b.getElementsByTagName("head")[0].appendChild(d);return function(h){var q,i,r,p=h.templateString,s=h.values||{},j={},v=h.startChar||"{",k=h.endChar||"}",l=h.groupStartChar||"[",m=h.groupEndChar||"]",u=h.escapeChar||"\\",t={},o=0;t[v]=++o;t[k]=++o;t[l]=++o;t[m]=++o;t[u]=++o;for(var n in t){t.hasOwnProperty(n)&&o--}if(o){g("Special characters must be unique.")}if(h.id){q=b.getElementById(h.id);i=j[h.id]||q;if(i&&i[e].match(/\bminlate\b/)){r=i.cloneNode();r.innerHTML=c(i.innerHTML,s,v,k,l,m,u);r[e]=r[e].replace(/\bminlate\b/,"");j[h.id]=i;h.inPlace&&q.parentNode.replaceChild(r,q);return r}g("Invalid template element")}else{if(typeof p=="string"){return c(p,s,v,k,l,m,u)}g()}}}(document);